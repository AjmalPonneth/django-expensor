{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load humanize %}
{% load income_utils %}

{% block body %}


<div class="col-md-1 col-lg-1"></div>

<div class="col-md-10 col-lg-10 col-sm-12">
  <h3>{{ title }}</h3><br>
  
  <table class="table table-striped">
    <tr>
      <th>Name</th>
      <th>Percentage</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>

    {% for object in object_list %}
    <tr>
      <td>{{ object.name }}</td>
      <td>{{ object.percentage }}</td>
      <td>
        <a href="{% url 'income:investment-entity-update' pk=object.id %}">
          <span class="glyphicon glyphicon-pencil"></span> Edit
        </a>
      </td>

      <td>
        {% if not object.percentage %}
          <a href="{% url 'income:investment-entity-delete' pk=object.id %}">
            <span class="glyphicon glyphicon-trash"></span>
          </a>
        {% else %}
          <span data-toggle="tooltip" data-placement="top" title="Percentage value must be 0 to enable delete"><i class="glyphicon glyphicon-info-sign"></i></span>
        {% endif %}
      </td>

    </tr>
    {% endfor %}

  </table>

  <a style="float:left;" href="{% url 'income:investment-entity-create' %}" class="btn btn-primary">Add New</a>

  <div style="float:right;">
    <a class="btn btn-primary" href="{% url 'income:savings-calculation-detail' %}"><i class="glyphicon glyphicon-cog"></i></a>
    <a class="btn btn-primary" href="{% url 'income:savings-calculator' %}"><i class='fas fa-calculator'></i></a>
  </div>

<div class="col-md-1 col-lg-1"></div>



{% endblock body %}


{% block js %}

<script>
  $(function () {
    $('[data-toggle="tooltip"]').tooltip()
  })
</script>

{% endblock js %}

